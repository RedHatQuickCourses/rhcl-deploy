<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install Kuadrant on Red Hat OpenShift cluster :: Getting Started with Red Hat Connectivity Link</title>
    <link rel="prev" href="section3.html">
    <link rel="next" href="../chapter3/index.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Getting Started with Red Hat Connectivity Link</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/rhcl-deploy/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhcl-deploy" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Getting Started with Red Hat Connectivity Link</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../LABENV/index.html">Lab Environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">Overview of Red Hat Connectivity Link (RHCL)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section1.html">What is Red Hat Connectivity Link (RHCL)?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section2.html">What Red Hat Connectivity Link Can Do?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">RHCL Environment Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section1.html">Setup Route53 in AWS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section2.html">Install Cert-manager Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section3.html">Install and configure Istio with Sail Operator</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section4.html">Install Kuadrant on Red Hat OpenShift cluster</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter3/index.html">Platform Engineer Workflow</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section2.html">Create a gateway matching the DNS created on AWS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section3.html">Create DNS Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section4.html">Create TLS Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter3/section5.html">Create Auth Policy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../appendix/appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Getting Started with Red Hat Connectivity Link</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Getting Started with Red Hat Connectivity Link</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Getting Started with Red Hat Connectivity Link</a></li>
    <li><a href="index.html">RHCL Environment Setup</a></li>
    <li><a href="section4.html">Install Kuadrant on Red Hat OpenShift cluster</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install Kuadrant on Red Hat OpenShift cluster</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this lab, you install and setup Kuadrant Operator and trigger Kuadrant deployment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing the Kuadrant Operator, you must create the necessary namespace and set up the CatalogSource. Follow the steps below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the Namespace</p>
<div class="ulist">
<ul>
<li>
<p>Run the following command to create the kuadrant-system namespace:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc create ns kuadrant-system</strong>
namespace/kuadrant-system created</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set Up the CatalogSource</p>
<div class="ulist">
<ul>
<li>
<p>Apply the CatalogSource by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc apply -f <a href="https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-catalogsource.yaml" class="bare">https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-catalogsource.yaml</a></strong>
catalogsource.operators.coreos.com/kuadrant-operator-catalog created</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_the_kuadrant_operator"><a class="anchor" href="#_install_the_kuadrant_operator"></a>Install the Kuadrant Operator</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To install the Kuadrant Operator, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc apply -f <a href="https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-subscription-operatorgroup.yaml" class="bare">https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-subscription-operatorgroup.yaml</a></strong>
subscription.operators.coreos.com/kuadrant-operator created
operatorgroup.operators.coreos.com/kuadrant created</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Wait for the Kuadrant Operators to be installed as follows:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ oc get installplan -n kuadrant-system -o=jsonpath='{.items[0].status.phase}'
Complete</pre>
</div>
</div>
<div class="paragraph">
<p>After some time, this command should return complete.</p>
</div>
</li>
<li>
<p>Notice the kuadrant operator is installed along with it&#8217;s dependencies:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.kuadrant.io/latest/authorino-operator/#the-authorino-custom-resource-definition-crd">Authorino</a>(Enforcement Component for AuthPolicy)</p>
</li>
<li>
<p><a href="https://docs.kuadrant.io/latest/limitador-operator/#features">Limitador (Enforcement Component for RateLimitPolicy)</a></p>
</li>
<li>
<p>DNS Operator (Enforcement Component for DNSPOlicy)</p>
<div class="imageblock text-center">
<div class="content">
<img src="_images/kuad.png" alt="kuad">
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Configure AWS Access Key and Secret Key</p>
<div class="ulist">
<ul>
<li>
<p>Now set up your AWS access credentials by exporting the access key ID and secret access key.
Use the following commands in your terminal, replacing xxxxxxx with your actual keys that you can find in your lab environment section:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ export AWS_ACCESS_KEY_ID=XXXXXXX
[lab-user@bastion ~]$ export AWS_SECRET_ACCESS_KEY=XXXXXX</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Set up a DNSProvider</p>
<div class="ulist">
<ul>
<li>
<p>Next step is to create DNS secret Provider that would provide those DNS Provider details that we set in AWS. It is important the secret for the DNSProvider is setup in the same namespace as the gateway.</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc create ns ingress-gateway</strong>
namespace/ingress-gateway created

[lab-user@bastion ~]$ <strong>oc -n ingress-gateway create secret generic aws-credentials \
  --type=kuadrant.io/aws \
  --from-literal=AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID \
  --from-literal=AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY</strong>
secret/aws-credentials created</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploy_kuadrant"><a class="anchor" href="#_deploy_kuadrant"></a>Deploy Kuadrant</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To trigger your Kuadrant deployment, enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc apply -f <a href="https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-resource.yaml" class="bare">https://raw.githubusercontent.com/RedHatQuickCourses/rhcl-qc-apps/refs/heads/main/kuadrant-resource.yaml</a></strong>
kuadrant.kuadrant.io/kuadrant created</pre>
</div>
</div>
</li>
<li>
<p>Wait for Kuadrant to be ready as follows:</p>
<div class="listingblock">
<div class="content">
<pre>[lab-user@bastion ~]$ <strong>oc wait kuadrant/kuadrant --for="condition=Ready=true" -n kuadrant-system --timeout=300s</strong>
kuadrant.kuadrant.io/kuadrant condition met</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.kuadrant.io/0.11.0/kuadrant-operator/doc/install/install-openshift/">Install Kuadrant on an OpenShift cluster</a></p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="section3.html">Install and configure Istio with Sail Operator</a></span>
  <span class="next"><a href="../chapter3/index.html">Platform Engineer Workflow</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
